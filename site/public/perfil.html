<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/perfil.css">
    <link rel="shortcut icon" href="assets/capaAlbuns/lost.webp" type="image/x-icon">
    <title>Perfil - BMTH</title>
</head>

<body>
    <div id="header">
        <div class="container">
            <h1><a href="index.html">†BMTH†</a></h1>
            <ul id="navbar">
                <li><a href="index.html">Home</a></li>
                <li><a href="discografia.html">Músicas</a></li>
                <li><a href="momentos.html">Sobre a banda</a></li>
            </ul>
            <ul id="user">
                <li><a href="login.html">Sair</a></li>
                <li><img src="assets/exitIcon.png"></li>
            </ul>
        </div>
    </div>

    <div class="corpo">
        <div id="content">

            <div class="container" id="userImg">
                <img src="assets/user_icon.png">
                <p id="b_email"></p>
                <h3><a href="quiz.html">Jogar Quiz</a></h3>
                <h3><a href="clicker.html">Jogar Clicker</a></h3>
                <h3>membro desde <span id="b_criacao">00/00/0000</span></h3>

            </div>

            <div class="container" id="userFeed">

                <h1>Bem vindo(a), <span id="b_usuario">Usuário</span></h1>

                <div class="userDados">

                    <div class="albumConquistas">
                        <h5>Álbum preferido</h5>
                        <div class="dadosConquistas">
                            <h6><span id="b_albumPreferido"></span></h6>
                        </div>
                    </div>

                    <div class="albumConquistas">
                        <h5>Quiz</h5>
                        <div class="dadosConquistas">
                            <h6>Acertos <span id="b_acertosQuiz">0</span>/10</h6>
                            <h6>Tempo decorrido <span id="b_tempoQuiz">0</span>s</h6>
                        </div>
                    </div>
                    <div class="albumConquistas">
                        <h5>Rock Clicker</h5>
                        <div class="dadosConquistas">
                            <h6>Pontos: <span id="b_pontosQuiz">0</span></h6>
                            <h6>Upgrades comprados: <span id="b_totalCompras">0</span></h6>
                        </div>
                    </div>

                </div>

                <div id="avaliacaoEstatistica">
                    <button onclick="mostrarAvaliacao()">Avaliar Jogos</button>
                    <!--Aparece no meio da tela, estrelas para avaliação dos jogos.-->
                    <button onclick="mostrarDashboard()">Ver estatísticas</button> <!--Aparece a class avaliacoes.-->
                </div>

                <div id="telaAvaliacoes" style="display: none;">
                    <div class="avaliacoes">
                        <div class="avaliarJogo">
                            <h2>Quiz</h2>
                            <p>Qual sua avaliação para o jogo Quiz?</p>
                            <div id="coracoesQuiz">
                                <img src="assets/heart.png">
                                <img src="assets/heart.png">
                                <img src="assets/heart.png">
                                <img src="assets/heart.png">
                                <img src="assets/heart.png">
                            </div>
                        </div>
                        <div class="avaliarJogo">
                            <h2>Clicker</h2>
                            <p>Qual sua avaliação para o jogo Clicker?</p>
                            <div id="coracoesClicker">
                                <img src="assets/heart.png">
                                <img src="assets/heart.png">
                                <img src="assets/heart.png">
                                <img src="assets/heart.png">
                                <img src="assets/heart.png">
                            </div>
                        </div>
                    </div>
                    <button>Salvar e enviar</button>
                </div>

                <div id="telaDashboard" style="display: none;">
                    <div id="dashboard">
                        <div class="grafico">
                            <canvas id="canvas_graficoAlbum"></canvas>
                        </div>

                        <div class="grafico">
                            <canvas id="canvas_graficoQuiz"></canvas>
                            <canvas id="canvas_graficoClicker"></canvas>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</body>

</html>
<script>

    var telaAvaliacao = document.getElementById('telaAvaliacoes');
    var telaDashboard = document.getElementById('telaDashboard');

    function mostrarAvaliacao() {
        if (telaAvaliacao.style.display == 'none') {
            telaAvaliacao.style.display = 'block'
            telaDashboard.style.display = 'none'
        } else {
            telaAvaliacao.style.display = 'none'
        }
    }

    function mostrarDashboard() {
        if (telaDashboard.style.display == 'none') {
            telaDashboard.style.display = 'block'
            telaAvaliacao.style.display = 'none'
        } else {
            telaDashboard.style.display = 'none'
        }
    }

    b_usuario.innerHTML = sessionStorage.nome;
    b_albumPreferido.innerHTML = sessionStorage.albumPreferido;
    b_criacao.innerHTML = sessionStorage.dtCriacao;
    b_email.innerHTML = sessionStorage.email;

    b_acertosQuiz.innerHTML = sessionStorage.getItem("acertos");
    b_tempoQuiz.innerHTML = sessionStorage.getItem("tempoQuiz");

    b_pontosQuiz.innerHTML = sessionStorage.getItem('pontos');
    b_totalCompras.innerHTML = sessionStorage.getItem('totalCompras');

</script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const graficoAlbum = document.getElementById('canvas_graficoAlbum');
    const graficoQuiz = document.getElementById('canvas_graficoQuiz');
    const graficoClicker = document.getElementById('canvas_graficoClicker');

    new Chart(graficoAlbum, {
        type: 'pie',
        data: {
            labels: ['Sempiternal', "That's The Spirit", 'amo', 'POST HUMAN: SURVIVAL HORROR'],
            datasets: [{
                label: 'Álbuns preferidos',
                data: [3, 2, 6, 1],
                hoverOffset: 4
            }]
        }
    })

    new Chart(graficoQuiz, {
        type: 'bar',
        data: {
            labels: ['Sempiternal', "That's The Spirit", 'amo', 'POST HUMAN: SURVIVAL HORROR'],
            datasets: [{
                label: 'Álbuns preferidos',
                data: [3, 2, 6, 1],
                hoverOffset: 4
            }]
        },
        options: {
            maintainAspectRatio: false,
        }
    })

    new Chart(graficoClicker, {
        type: 'bar',
        data: {
            labels: ['Sempiternal', "That's The Spirit", 'amo', 'POST HUMAN: SURVIVAL HORROR'],
            datasets: [{
                label: 'Pontos',
                data: [3, 2, 6, 1],
                hoverOffset: 4
            }]
        },
        options: {
            maintainAspectRatio: false,
        }
    })

</script>